const sel=document.getSelection();function setup(){console.log("Setup function loaded."),document.getElementById("custom-input").spellcheck=!1,document.getElementById("custom-input").focus(),document.getElementById("list-container").classList.add('show'),addEvents()}function getCaretCharacterOffsetWithin(b){var d=0,c=b.ownerDocument||b.document,e=c.defaultView||c.parentWindow,a,f,g,i,h;return typeof e.getSelection!="undefined"?(a=e.getSelection(),a.rangeCount>0&&(f=e.getSelection().getRangeAt(0),g=f.cloneRange(),g.selectNodeContents(b),g.setEnd(f.endContainer,f.endOffset),d=g.toString().length)):(a=c.selection)&&a.type!="Control"&&(i=a.createRange(),h=c.body.createTextRange(),h.moveToElementText(b),h.setEndPoint("EndToEnd",i),d=h.text.length),d}function setCaretPosition(g,c){for(var d=document.createRange(),f=window.getSelection(),a=null,e=null,b=0;b<g.childNodes.length;b++){for(e=a,a=g.childNodes[b];a.childNodes.length>0;)a=a.childNodes[0];if(e!=null&&(c-=e.length),c<=a.length)break}a!=null&&(d.setStart(a,c),d.collapse(!0),f.removeAllRanges(),f.addRange(d))}function getText(){const b=document.getElementById("custom-input").textContent,c=/(#(?:[^\x00-\x7F]|\w)+)/g,a=document.getElementById("custom-input"),d=getCaretCharacterOffsetWithin(a);document.getElementById("custom-input").innerHTML=b.replace(c,'<span id="hashtag" onclick="handleMatch(event)">$1</span>'),setCaretPosition(a,d)}function writeCharCounting(){const a=document.getElementById("matches-count-number"),b=document.getElementById("character-count-number"),c=document.getElementById("custom-input").textContent;b.textContent=c.length,a.textContent=countMatches()}function countMatches(){const a=/(#(?:[^\x00-\x7F]|\w)+)/g,b=document.getElementById("custom-input").textContent,c=(a,b)=>a?.match(b)?.length??0,d=c(b,a);return d}function handleMatch(a){console.log(a.target.textContent)}function renderArrayToList(g){var a,c,b;document.getElementById("list-container").innerHTML="";const e=/(#(?:[^\x00-\x7F]|\w)+)/g,f=document.getElementById("custom-input").textContent,d=f.match(e);d!=null&&(a=[],d.forEach(b=>{a!=null&&!a.includes(b)&&a.push(b)}),b=[],a!=null&&a.forEach(a=>{c=0,d.forEach(b=>{a==b&&c++}),b.push({item:a,count:c})}),b!=null),b!=null&&b.forEach(c=>{var d=document.createElement("LI"),a=document.createElement("SPAN"),b,e,f;a.setAttribute("id","tag"),b=document.createElement("SPAN"),b.setAttribute("id","tag-count"),e=document.createTextNode(c.item),f=document.createTextNode(c.count),d.appendChild(a),a.appendChild(e),b.appendChild(f),a.appendChild(b),document.getElementById("list-container").appendChild(d)})}function addEvents(){document.getElementById("custom-input").addEventListener('keydown',function(a){a.keyCode==13&&(a.preventDefault(),a.target.textContent='',document.getElementById("list-container").innerHTML="")}),document.getElementById("clear-icon").addEventListener('click',function(a){a.preventDefault(),document.getElementById("custom-input").textContent=0,document.getElementById("custom-input").innerHTML="",document.getElementById("custom-input").focus(),document.getElementById("list-container").innerHTML=""}),document.getElementById("custom-input").addEventListener('input',function(b){getText();const a=["one","two","three"];renderArrayToList(a)})}function addCSSClasses(){var a=document.getElementById("list-container");a.classList.contains("hide")?(a.classList.remove("hide"),a.classList.add("show"),document.getElementById("button-debug").textContent='Debug On',console.log('hide')):a.classList.contains("show")?(a.classList.remove("show"),a.classList.add("hide"),document.getElementById("button-debug").textContent='Debug Off',console.log('show')):a.classList.add("hide")}